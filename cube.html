<html>
<head>


    <title>Fortnite Cube Tracker</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no" />

    <!-- Meta Data -->
    <meta name="theme-color" content="#98ff98">
    <meta content="Cube Countdown" property="og:title" />

    <meta content="countdown website for the Fortnite Cube event!" property="og:description" />
    <meta content="countdown website for the Fortnite Cube event!" name="description" />

    <!-- CSS -->
    <link href="assets/css/modesta.css" type="text/css" rel="stylesheet">
    <!-- uses ModestaCSS from https://github.com/AlexFlipnote/ModestaCSS -->

    <!-- JavaScript -->
    <script src="assets/js/smoothscroll.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="assets/js/main.js" type="text/javascript" charset="utf-8"></script>
    <script>
        function wait(ms) {
            var d = new Date();
            var d2 = null;
            do {
                d2 = new Date();
            }
            while (d2 - d < ms);
        }

        // Set the date we're counting down to

        var countDownDate = new Date("Sep 22, 2021 22:40:00 EDT")

        // Get todays date and time
        var now = new Date().getTime();

        var minutes = 143
        var seconds = 30

        // Find the distance between now and the count down date
        var distance = countDownDate.getTime() - now;
        while (distance < 0) {
            countDownDate.setSeconds(countDownDate.getSeconds() + minutes * 60 + seconds)
            console.log("TEST")

            distance = countDownDate - now;
        }

        // Update the count down every 1 second
        var x = setInterval(function() {

            // Get todays date and time
            var now = new Date().getTime();

            // Find the distance between now and the count down date
            var distance = countDownDate - now;

            // Time calculations for days, hours, minutes and seconds
            var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            var seconds = Math.floor((distance % (1000 * 60)) / 1000);

            // Output the result in an element with id="demo"
            document.getElementById("countdown").innerHTML = hours + "h " + minutes + "m " + seconds + "s ";

            console.log(distance)

            if (distance < 0) {
                document.getElementById("countdown").innerHTML = "The Cube Has Moved!";
            }
            if (distance < -19000) {
                console.log("CUBE TIME")
                countDownDate.setSeconds(countDownDate.getSeconds() + minutes * 60 + seconds)
                var distance = countDownDate - now;
            }
        }, 1000);
    </script>

    <!-- Custom CSS -->
    <style>
        .one-full.column p,
        .one-full.column h1 {
            margin: 0;
        }
    </style>
</head>

<body>
<div class="fullscreen">
    <div class="background" style="background-image: url('assets/images/cube.jpg');"></div>
    <script type="text/javascript">
            var images = ['assets/images/TrackerBGs/cube.jpg'];
            document.getElementsByClassName('background')[0].style.backgroundImage = 'url(' + images[Math.floor(Math.random() * images.length)] + ')';
        </script>
    <div class="center-object">

        <li><a href="index.html" class="nav-link">Go Back<span class="sr-only"></span></a></li>

        <section class="me">
            <h1 class="title" style="width: 100%;text-align: center">Queen Cube Countdown!</h1>
            <span class="undertitle" style="width: 100%;text-align: center">Next Movement In: <span class="undertitle" style="width: 100%;text-align: center" id="countdown"></span></span>
        </section>
    </div>
    <a href="#information">
    </a>
</div>

</html>